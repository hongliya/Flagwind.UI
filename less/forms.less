//
// * Flagwind.UI v1.0.0
// * Copyright 2014 Flagwind Inc. All rights reserved.
// * Licensed under the MIT License.
// * https://github.com/Flagwind/Flagwind.UI/blob/master/LICENSE
//


/* =============================== 表单(Forms) ============================ */


fieldset
{
    padding: 0;
    margin: 0;
    border: 0;
    min-width: 0;
}

legend
{
    display: block;
    width: 100%;
    margin-bottom: @line-height-computed;
    padding-bottom: 5px;
    font-size: (@font-size-md * 1.25);
    line-height: inherit;
    color: @legend-color;
    border: 0;
    border-bottom: 1px solid @legend-border-color;
}

label
{
    display: inline-block;
    max-width: 100%;
}

input[type="search"]
{
    .box-sizing(border-box);
    -webkit-appearance: none;
}

input[type="radio"],
input[type="checkbox"]
{
    margin: 4px 0 0;
    margin-top: 1px \9;
    line-height: normal;
}

input[type="file"]
{
    display: block;
}

input[type="range"]
{
    display: block;
    width: 100%;
}

select[multiple],
select[size]
{
    height: auto;
}

select optgroup
{
    font-size: inherit;
    font-style: inherit;
    font-family: inherit;
}

input[type="file"]:focus,
input[type="radio"]:focus,
input[type="checkbox"]:focus
{
    .tab-focus();
}

input[type="number"]
{
    &::-webkit-outer-spin-button,
    &::-webkit-inner-spin-button
    {
        height: auto;
    }
}

output
{
    display: block;
    padding-top: (@padding-vertical-md + 1);
    font-size: @font-size-md;
    line-height: @line-height-md;
    color: @input-color;
    vertical-align: middle;
}

.field
{
    margin-bottom: @form-group-margin-bottom;
}

.label
{
    margin-bottom: 5px;
    font-weight: bold;
}

.input,
.select,
.textarea
{
    display: block;
    width: 100%;
    height: @input-height-md;
    padding: @padding-vertical-md @padding-horizontal-md;
    font-size: @font-size-md;
    line-height: @line-height-md;
    color: @input-color;
    background-color: @input-bg;
    background-image: none;
    border: 1px solid @input-border;
    border-radius: @input-border-radius-md;
    -webkit-appearance: none;

    .box-shadow(inset 0 1px 1px rgba(0,0,0,.075));
    .transition(~"border-color .15s ease-in-out, box-shadow .15s ease-in-out");
    .input-focus();
    .placeholder();

    &[disabled],
    &[readonly],
    fieldset[disabled] &
    {
        background-color: @input-bg-disabled;
        opacity: 1;
    }

    &[disabled],
    fieldset[disabled] &
    {
        cursor: @cursor-disabled;
    }
}

.textarea
{
    height: auto;
}

.file
{
    position: relative;
    overflow: hidden;

    input[type="file"]
    {
        position: absolute;
        left: 0;
        top: 0;
        z-index: 1;
        width: 100%;
        height:100%;
        opacity: 0;
        cursor: pointer;
    }
}

.text
{
    padding-top: (@padding-vertical-md + 1);
    padding-bottom: (@padding-vertical-md + 1);
    margin-bottom: 0;
    //min-height: (@line-height-computed + @font-size-md);
}

.help
{
    display: block;
    margin-top: 5px;
    margin-bottom: 10px;
    color: @field-help-color;
}

.radio,
.checkbox
{
    position: relative;
    display: block;
    min-height: @line-height-computed;
    margin-top: 10px;
    margin-bottom: 10px;
    padding-left: 20px;
    vertical-align: middle;
    cursor: pointer;
}

.radio input[type="radio"],
.checkbox input[type="checkbox"]
{
    position: absolute;
    margin-left: -20px;
    margin-top: 4px \9;
}

.radio-group .radio,
.checkbox-group .checkbox
{
    margin-top: 0;
    margin-bottom: 5px;
}

.radio-group-inline .radio,
.checkbox-group-inline .checkbox
{
    display: inline-block;
    width: auto;
    margin-top: 0;
    margin-bottom: 0;
}

.radio-group-inline .radio + .radio,
.checkbox-group-inline .checkbox + .checkbox
{
    margin-left: 15px;
}

input[type="radio"],
input[type="checkbox"]
{
    &[disabled],
    fieldset[disabled] &
    {
        cursor: @cursor-disabled;
    }
}

.radio,
.radio-group,
.radio-group-inline,
.checkbox,
.checkbox-group,
.checkbox-group-inline
{
    &.disabled,
    fieldset[disabled] &
    {
        cursor: @cursor-disabled;
    }
}

.input-sm
{
    .input-size(@input-height-sm; @padding-vertical-sm; @padding-horizontal-sm; @font-size-sm; @line-height-sm; @input-border-radius-sm);
}

.field-sm
{
    .input
    {
        .input-size(@input-height-sm; @padding-vertical-sm; @padding-horizontal-sm; @font-size-sm; @line-height-sm; @input-border-radius-sm);
    }

    .text
    {
        height: @input-height-sm;
        padding: @padding-vertical-sm @padding-horizontal-sm;
        font-size: @font-size-sm;
        line-height: @line-height-sm;
        //min-height: (@line-height-computed + @font-size-sm);
    }
}

.input-lg
{
    .input-size(@input-height-lg; @padding-vertical-lg; @padding-horizontal-lg; @font-size-lg; @line-height-lg; @input-border-radius-lg);
}

.field-lg
{
    .input
    {
        .input-size(@input-height-lg; @padding-vertical-lg; @padding-horizontal-lg; @font-size-lg; @line-height-lg; @input-border-radius-lg);
    }

    .text
    {
        height: @input-height-lg;
        padding: @padding-vertical-lg @padding-horizontal-lg;
        font-size: @font-size-lg;
        line-height: @line-height-lg;
        //min-height: (@line-height-computed + @font-size-lg);
    }
}

.field-icon
{
    position: relative;

    .input
    {
        padding-right: (@input-height-md * 1.25);
    }
}

.field-icon .icon
{
    position: absolute;
    top: 0;
    right: 0;
    z-index: 2;
    display: block;
    width: @input-height-md;
    height: @input-height-md;
    line-height: @input-height-md;
    text-align: center;
    pointer-events: none;
    color: @field-icon-color;
}

.field-icon .label
{
    & ~ .icon
    {
        top: (@line-height-computed + 5);
    }

    &.sr-only ~ .icon
    {
        top: 0;
    }
}

.input-sm + .icon,
.field-sm .input + .icon
{
    width: @input-height-sm;
    height: @input-height-sm;
    line-height: @input-height-sm;
}

.input-lg + .icon,
.field-lg .input + .icon
{
    width: @input-height-lg;
    height: @input-height-lg;
    line-height: @input-height-lg;
}

.field-success
{
    .field-validation(@state-success-text; @state-success-text; @state-success-bg);
}

.field-warning
{
    .field-validation(@state-warning-text; @state-warning-text; @state-warning-bg);
}

.field-error
{
    .field-validation(@state-danger-text; @state-danger-text; @state-danger-bg);
}

.form-inline
{
    @media (min-width: @screen-sm-min)
    {
        .field
        {
            display: inline-block;
            margin-bottom: 0;
            vertical-align: middle;
        }

        .input
        {
            display: inline-block;
            width: auto;
            vertical-align: middle;
        }

        .text
        {
            display: inline-block;
        }

        .input-group
        {
            display: inline-table;
            vertical-align: middle;

            .input-group-addon,
            .input-group-btn,
            .field
            {
                width: auto;
            }
        }

        .input-group > .field
        {
            width: 100%;
        }

        .label
        {
            margin-bottom: 0;
            vertical-align: middle;
        }

        .radio,
        .checkbox
        {
            display: inline-block;
            margin-top: 0;
            margin-bottom: 0;
            vertical-align: middle;
            padding-left: 0;
        }

        .radio input[type="radio"],
        .checkbox input[type="checkbox"]
        {
            position: relative;
            margin-left: 0;
        }

        .field-icon .icon
        {
          top: 0;
        }
    }
}

/*
 * 水平排列。
 */

.form-horizontal
{
    .radio,
    .checkbox
    {
        margin-top: 0;
        margin-bottom: 0;
    }

    .field
    {
        .build-layout(fluid);
    }

    @media (min-width: @screen-sm-min)
    {
        .label
        {
            text-align: right;
            margin-bottom: 0;
            padding-top: (@padding-vertical-md + 1)
        }
    }

    .field-icon .icon
    {
        right: (@layout-gutter-width / 2);
    }

    .field-sm
    {
        @media (min-width: @screen-sm-min)
        {
            .label
            {
                padding-top: (@padding-vertical-sm + 1);
            }
        }
    }

    .field-lg
    {
        @media (min-width: @screen-sm-min)
        {
            .label
            {
                padding-top: ((@padding-vertical-lg * @line-height-lg) + 1);
            }
        }
    }
}
